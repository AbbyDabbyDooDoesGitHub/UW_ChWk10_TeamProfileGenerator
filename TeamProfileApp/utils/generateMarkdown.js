// LICENSE ARRAY --------------------------------------------------
// [
//   0 ANSWER SELECTED,
//   1 WHAT TO CALL THIS, 
//   2 BADGE, 3 EXTRA BADGE, 4 WEB LINK,
// ]
var license_Array = [

  [
    "SKIP THIS PART - Proceed with No License",
    "",
    "", "", "",
  ],

  [
    "Apache 2.0 License",
    "Apache 2.0 License",
    "[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)", "","https://www.apache.org/licenses/LICENSE-2.0",
  ],

  [
    "Boost Software License 1.0",
    "Boost Software License 1.0",
    "[![License](https://img.shields.io/badge/License-Boost_1.0-lightblue.svg)](https://www.boost.org/LICENSE_1_0.txt)", "","https://www.boost.org/LICENSE_1_0.txt",
  ],
  
  [
    "Eclipse Public License 1.0",
    "Eclipse Public License 1.0",
    "[![License](https://img.shields.io/badge/License-EPL_1.0-red.svg)](https://opensource.org/licenses/EPL-1.0)", "","https://www.eclipse.org/legal/epl-v10.html",
  ],
  
  [
    "IBM Public License Version 1.0",
    "IBM Public License Version 1.0",
    "[![License: IPL 1.0](https://img.shields.io/badge/License-IPL_1.0-blue.svg)](https://opensource.org/licenses/IPL-1.0)", "","https://opensource.org/licenses/IPL-1.0",
  ],

  [
    "ISC License (ISC)",
    "ISC License (ISC)",
    "[![License: ISC](https://img.shields.io/badge/License-ISC-blue.svg)](https://opensource.org/licenses/ISC)", "","https://opensource.org/licenses/ISC",
  ],
  
  [
    "The MIT License",
    "The MIT License",
    "[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)", "","https://opensource.org/licenses/MIT",
  ],
  
  [
    "Mozilla Public License 2.0",
    "Mozilla Public License 2.0",
    "[![License: MPL 2.0](https://img.shields.io/badge/License-MPL_2.0-brightgreen.svg)](https://opensource.org/licenses/MPL-2.0)", "", "https://www.mozilla.org/en-US/MPL/2.0/",
  ],
  
  [
    "SIL Open Font License 1.1",
    "SIL Open Font License 1.1",
    "[![License: Open Font-1.1](https://img.shields.io/badge/License-OFL_1.1-lightgreen.svg)](https://opensource.org/licenses/OFL-1.1)", "", "https://opensource.org/licenses/OFL-1.1",
  ],
  
  [
    "The Unlicense",
    "The Unlicense License",
    "[![License: Unlicense](https://img.shields.io/badge/license-Unlicense-blue.svg)](http://unlicense.org/)", "", "https://unlicense.org/",
  ],

  [
    "The Do What the Fuck You Want to Public License (WTFPL)",
    "The Do What the Fuck You Want to Public License (WTFPL)",
    "[![License: WTFPL](https://img.shields.io/badge/License-WTFPL-brightgreen.svg)](http://www.wtfpl.net/about/)", "","http://www.wtfpl.net/about/",
  ],
  
  [
    "The zlib/libpng License",
    "The zlib/libpng License",
    "[![License: Zlib](https://img.shields.io/badge/License-Zlib-lightgrey.svg)](https://opensource.org/licenses/Zlib)", "", "https://opensource.org/licenses/Zlib",
  ],
  
  [
    "BSD 3-Clause License",
    "BSD 3-Clause License",
    "[![License](https://img.shields.io/badge/License-BSD_3--Clause-blue.svg)](https://opensource.org/licenses/BSD-3-Clause)", "", "https://opensource.org/licenses/BSD-3-Clause",
  ],
  
  [
    "BSD 2-Clause License",
    "BSD 2-Clause License",
    "[![License](https://img.shields.io/badge/License-BSD_2--Clause-orange.svg)](https://opensource.org/licenses/BSD-2-Clause)", "", "https://opensource.org/licenses/BSD-2-Clause",
  ],
  
  [
    "CC0", 
    "Creative Commons: CC0 License",
    "[![License: CC0-1.0](https://licensebuttons.net/l/zero/1.0/80x15.png)](http://creativecommons.org/publicdomain/zero/1.0/)", "[![License: CC0-1.0](https://img.shields.io/badge/License-CC0_1.0-lightgrey.svg)](http://creativecommons.org/publicdomain/zero/1.0/)", "https://creativecommons.org/share-your-work/public-domain/cc0/",
  ],

  [
    "Attribution 4.0 International",
    "Creative Commons: Attribution 4.0 International License",
    "[![License: CC BY 4.0](https://licensebuttons.net/l/by/4.0/80x15.png)](https://creativecommons.org/licenses/by/4.0/)", "[![License: CC BY 4.0](https://img.shields.io/badge/License-CC_BY_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by/4.0/)", "https://creativecommons.org/licenses/by/4.0/",
  ],
  
  [
    "Attribution-ShareAlike 4.0 International",
    "Creative Commons: Attribution-ShareAlike 4.0 International License",
    "[![License: CC BY-SA 4.0](https://licensebuttons.net/l/by-sa/4.0/80x15.png)](https://creativecommons.org/licenses/by-sa/4.0/)", "[![License: CC BY-SA 4.0](https://img.shields.io/badge/License-CC_BY--SA_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by-sa/4.0/)", "https://creativecommons.org/licenses/by-sa/4.0/",
  ],
  
  [
    "Attribution-NonCommercial 4.0 International",
    "Creative Commons: Attribution-NonCommercial 4.0 International License",
    "[![License: CC BY-NC 4.0](https://licensebuttons.net/l/by-nc/4.0/80x15.png)](https://creativecommons.org/licenses/by-nc/4.0/)", "[![License: CC BY-NC 4.0](https://img.shields.io/badge/License-CC_BY--NC_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc/4.0/)", "https://creativecommons.org/licenses/by-nc/4.0/",
  ],
  
  [
    "Attribution-NoDerivatives 4.0 International",
    "Creative Commons: Attribution-NoDerivatives 4.0 International License",
    "[![License: CC BY-ND 4.0](https://licensebuttons.net/l/by-nd/4.0/80x15.png)](https://creativecommons.org/licenses/by-nd/4.0/)", "[![License: CC BY-ND 4.0](https://img.shields.io/badge/License-CC_BY--ND_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nd/4.0/)", "https://whc.unesco.org/en/licenses/10#:~:text=Attribution%20%E2%80%94%20You%20must%20give%20appropriate,the%20material%20for%20commercial%20purposes.",
  ],

  [
    "Attribution-NonCommmercial-ShareAlike 4.0 International",
    "Creative Commons: Attribution-NonCommercial-ShareAlike 4.0 International License",

    "[![License: CC BY-NC-SA 4.0](https://img.shields.io/badge/License-CC_BY--NC--SA_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc-sa/4.0/)", "[![License: CC BY-NC-SA 4.0](https://licensebuttons.net/l/by-nc-sa/4.0/80x15.png)](https://creativecommons.org/licenses/by-nc-sa/4.0/)", "https://creativecommons.org/licenses/by-nc-sa/4.0/",
  ],

  [
    "Attribution-NonCommercial-NoDerivatives 4.0 International",
    "Creative Commons: Attribution-NonCommercial-NoDerivatives 4.0 International License",

    "[![License: CC BY-NC-ND 4.0](https://img.shields.io/badge/License-CC_BY--NC--ND_4.0-lightgrey.svg)](https://creativecommons.org/licenses/by-nc-nd/4.0/)", "[![License: CC BY-NC-ND 4.0](https://licensebuttons.net/l/by-nc-nd/4.0/80x15.png)](https://creativecommons.org/licenses/by-nc-nd/4.0/)", "https://creativecommons.org/licenses/by-nc-nd/4.0/",
  ],

  [
    "GNU GPL v3",
    "GNU GPL v3 License",

    "[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)", "", "https://www.gnu.org/licenses/gpl-3.0.en.html",
  ],

  [
    "GNU GPL v2",
    "GNU GPL v2 License",

    "[![License: GPL v2](https://img.shields.io/badge/License-GPL_v2-blue.svg)](https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html)", "", "https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html",
  ],

  [
    "GNU AGPL v3",
    "GNU AGPL v3 License",

    "[![License: AGPL v3](https://img.shields.io/badge/License-AGPL_v3-blue.svg)](https://www.gnu.org/licenses/agpl-3.0)", "", "https://www.gnu.org/licenses/agpl-3.0.en.html",
  ],

  [
    "GNU LGPL v3",
    "GNU LGPL v3 License",

    "[![License: LGPL v3](https://img.shields.io/badge/License-LGPL_v3-blue.svg)](https://www.gnu.org/licenses/lgpl-3.0)", "", "https://www.gnu.org/licenses/lgpl-3.0.en.html",
  ],

  [
    "GNU FDL v1.3",
    "GNU FDL v1.3 License",

    "[![License: FDL 1.3](https://img.shields.io/badge/License-FDL_v1.3-blue.svg)](https://www.gnu.org/licenses/fdl-1.3)", "", "https://www.gnu.org/licenses/fdl-1.3.en.html",
  ],

  [
    "The Hippocratic License 2.1",
    "Organization for Ethical Source: The Hippocratic License 2.1",

    "[![License: Hippocratic 2.1](https://img.shields.io/badge/License-Hippocratic_2.1-lightgrey.svg)](https://firstdonoharm.dev)", "", "https://firstdonoharm.dev/version/2/1/license/",
  ],

  [
    "The Hippocratic License 3.0",
    "Organization for Ethical Source: The Hippocratic License 3.0",

    "[![License: Hippocratic 3.0](https://img.shields.io/badge/License-Hippocratic_3.0-lightgrey.svg)](https://firstdonoharm.dev)", "", "https://firstdonoharm.dev/version/3/0/license/",
  ],

  [
    "Attribution License (BY)", 
    "Open Data Commons: Attribution License (BY)",

    "[![License: Open Data Commons Attribution](https://img.shields.io/badge/License-ODC_BY-brightgreen.svg)](https://opendatacommons.org/licenses/by/)", "", "https://opendatacommons.org/licenses/by/",
  ],

  [
    "Open Database License (ODbL)", 
    "Open Data Commons: Open Database License (ODbL)",

    "[![License: ODbL](https://img.shields.io/badge/License-ODbL-brightgreen.svg)](https://opendatacommons.org/licenses/odbl/)", "", "https://opendatacommons.org/licenses/odbl/",
  ],

  [
    "Public Domain Dedication and License (PDDL)", 
    "Open Data Commons: Public Domain Dedication and License (PDDL)",

    "[![License: ODbL](https://img.shields.io/badge/License-PDDL-brightgreen.svg)](https://opendatacommons.org/licenses/pddl/)", "", "https://opendatacommons.org/licenses/pddl/",
  ],

  [
    "The Perl License", 
    "The Perl License",

    "[![License: Artistic-2.0](https://img.shields.io/badge/License-Perl-0298c3.svg)](https://opensource.org/licenses/Artistic-2.0)", "", "https://dev.perl.org/licenses/gpl1.html",
  ],

  [
    "The Artistic License 2.0", 
    "Perl: The Artistic License 2.0",

    "[![License: Artistic-2.0](https://img.shields.io/badge/License-Artistic_2.0-0298c3.svg)](https://opensource.org/licenses/Artistic-2.0)", "", "https://dev.perl.org/licenses/artistic.html",
  ],

];

//GLOBAL VARIABLES ------------------------------------------------
// LICENSE VARIABLES
var license_Name = "";
var license_Badge = "";
var license_Link = "";
var license_yn = false;

// ALL TOGETHER VARIABLE THAT WILL BE RETURNED
var allTogether;

// FUNCTIONS FOR ASSEMBLING TEXT ----------------------------------
// GET LICENSE INFO PARSED
function renderLicenseInfo(reqData, data, optSections_yn) {

  // console.log("renderLicenseInfo ran");

  var license = reqData.license.simple;
  var license_complex = [
    reqData.license.lBSD, 
    reqData.license.CreativeCommons, 
    reqData.license.lGNU,
    reqData.license.OrgForEthicalSrc,
    reqData.license.OpenDataCommons,
    reqData.license.Perl
  ];

  // IF ANY SUB MENU HAS A RESULT, THAT IS USED
  for (let i = 0; i < license_complex.length; i++) {

    if (license_complex[i] != undefined ) {  
      license = license_complex[i];

    };

  };

  // MATCH THE LICENSE & PULL DATA FROM ARRAY
  for (let i = 0; i < license_Array.length; i++) {

    if (license === license_Array[i][0]) {

      license_Name  = license_Array[i][1];
      license_Badge = license_Array[i][2] + " " + license_Array[i][3];
      license_Link  = license_Array[i][4];
      
      if (license_Name === "") {

        license_yn = false;

      } else {

        license_yn = true;

      }

    }

  };

  renderOptionalSections(reqData, data, optSections_yn, license_yn);

}

// ASSEMBLE THE REST OF THE TEXT
function renderOptionalSections(reqData, data, optSections_yn, license_yn) {

  // SETS STARTER FOR DOC ASSUMING DIRECTORY
  var directory_sect = "# "+reqData.title+"\n"+license_Badge+"\n\n\n## Description\n"+reqData.description+"\n\n\n## Table of Contents";

  // SETS DEFAULT SECTIONS TO EMPTY STRINGS
  var installation_sect = ""; 
  var usage_sect = "";
  var license_sect = "";
  var contributing_sect = "";
  var tests_sect = "";

  // ADDS INSTALLATION DIRECTORY & SECTION CONTENT
  if (optSections_yn[1]===true) {
    prevSect = directory_sect;
    directory_sect = prevSect + "\n- [Installation](#installation) ";

    installation_sect = 
    "\n\n\n## Installation\n" + data.installation;
  }

  // ADDS USAGE DIRECTORY & SECTION CONTENT
  if (optSections_yn[2]===true) {
    prevSect = directory_sect;
    directory_sect = prevSect + "\n- [Usage](#usage)";

    usage_sect = "\n\n\n## Usage\n"+data.usage;
  }

  // ADDS LICENSE DIRECTORY & SECTION CONTENT
  if (license_yn===true) {
    prevSect = directory_sect;
    directory_sect = prevSect + "\n- [License](#license)";

    license_sect = "\n\n\n## License\n### "+license_Name+"\n\nLicensed under the "+license_Name+" (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at\n\n"+ license_Link+"\n\nSee the License for the specific language governing permissions and limitations under the License.";
  }

  // ADDS CONTRIBUTING DIRECTORY & SECTION CONTENT
  if (optSections_yn[3]===true) {
    prevSect = directory_sect;
    directory_sect = prevSect + "\n- [Contributing](#contributing)";

    contributing_sect = "\n\n\n## Contributing\n"+data.contributing;
  }

  // ADDS TESTS DIRECTORY & SECTION CONTENT
  if (optSections_yn[4]===true) {
    prevSect = directory_sect;
    directory_sect = prevSect + "\n- [Tests](#tests)";

    tests_sect = "\n\n\n## Tests\n"+data.tests;
  }

  // DIRECTORY SECTION
  if (optSections_yn[0]===false) {
    // IF USER DOESN'T WANT A DIRECTORY, RESET THE SECTION
    directory_sect = "# "+reqData.title+"\n"+license_Badge+"\n\n\n## Description\n"+reqData.description;

  } else if (optSections_yn[0]===true) {
    // IF USER WANTS A DIRECTORY, ADD CONTACT ME TO END
    prevSect = directory_sect;
    directory_sect = prevSect + "\n- [Contact Me](#contact-me)";

  }

  // MAKE RETURN VAR PUT SECTIONS TOGETHER
  allTogether = directory_sect + installation_sect + usage_sect + license_sect + contributing_sect + tests_sect + 
  "\n\n\n## Contact Me\nPlease reach out with any additional questions!\n - Github: ["+reqData.gitHubUser+"](https://github.com/"+reqData.gitHubUser+")\n- Email:  "+reqData.email;

  // RETURN STRING FOR README
  return allTogether;

}


// GENERATE MARKDOWN FUNCTION -------------------------------------
function generateMarkdown(reqData, data, optSections_yn) {

  // console.log("generateMarkdown ran");
  // console.log(data);

  renderLicenseInfo(reqData, data, optSections_yn);

  return allTogether;

} 

// EXPORT GENERATE MARKDOWN FUNCTION FOR USE IN INDEX.JS ----------
module.exports = generateMarkdown;